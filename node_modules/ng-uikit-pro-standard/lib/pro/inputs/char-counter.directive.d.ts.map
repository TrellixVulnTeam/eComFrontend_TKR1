{"version":3,"file":"char-counter.directive.d.ts","sources":["../../../../../projects/ng-uikit-pro-standard/src/lib/pro/inputs/char-counter.directive.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,MAAM,EAAa,UAAU,EAAE,SAAS,EAAuB,MAAM,eAAe,CAAC;;AAE9F,qBAGa,oBAAqB,YAAW,MAAM;AACnD,IAGc,OAAO,CAAC,MAAM;AAAE,IAAY,OAAO,CAAC,SAAS;AAAE,IAH3C,MAAM,SAAM;AAC9B,IAAS,aAAa,EAAE,GAAG,CAAC;AAC5B,gBACsB,MAAM,EAAE,UAAU,EAAU,SAAS,EAAE,SAAS;AAAG,IAEvE,QAAQ;AACL,IAQoB,OAAO;AAC3B,IASmB,IAAI;AACvB,IAGoB,IAAI;;;AACxB,CAGJ;AACD","sourcesContent":["import { OnInit, Directive, ElementRef, Renderer2, Input, HostListener } from '@angular/core';\n\n@Directive({\n  selector: '[mdbCharCounter]',\n})\nexport class CharCounterDirective implements OnInit {\n  @Input() public length = 20;\n  public textContainer: any;\n\n  constructor(private _elRef: ElementRef, private _renderer: Renderer2) {}\n\n  ngOnInit() {\n    // Inititalise a new <span> element for the count display and render it below the host component.\n    this.textContainer = this._renderer.createElement('p');\n    this._renderer.appendChild(this._elRef.nativeElement.parentElement, this.textContainer);\n    this._renderer.addClass(this.textContainer, 'chars');\n    this.textContainer.innerHTML = '0/' + this.length;\n    this._renderer.setStyle(this.textContainer, 'display', 'none');\n  }\n\n  @HostListener('input') onKeyUp() {\n    this.textContainer.innerHTML = this._elRef.nativeElement.value.length + '/' + this.length;\n\n    if (this._elRef.nativeElement.value.length > this.length) {\n      this._renderer.addClass(this._elRef.nativeElement, 'invalid');\n    } else {\n      this._renderer.removeClass(this._elRef.nativeElement, 'invalid');\n    }\n  }\n\n  @HostListener('blur') hide() {\n    this._renderer.setStyle(this.textContainer, 'display', 'none');\n  }\n\n  @HostListener('focus') show() {\n    this.onKeyUp();\n    this._renderer.setStyle(this.textContainer, 'display', 'block');\n  }\n}\n"]}