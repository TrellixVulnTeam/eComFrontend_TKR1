{"version":3,"file":"bar.component.d.ts","sources":["../../../../../projects/ng-uikit-pro-standard/src/lib/pro/progressbars/bar.component.ts"],"names":[],"mappings":"AAAA,OAAO,EAA0B,SAAS,EAAE,MAAM,EAAE,MAAM,eAAe,CAAC;AAE1E,OAAO,EAAE,iBAAiB,EAAE,MAAM,sBAAsB,CAAC;;AAEzD,qBAIa,YAAa,YAAW,MAAM,EAAE,SAAS;AACtD,IAAS,GAAG,EAAE,MAAM,CAAC;AACrB,IACE,mGAAmG;AACrG,IAAkB,IAAI,EAAE,MAAM,CAAC;AAC/B,IAAE,oCAAoC;AACtC,IAAE,IACW,KAAK,IAAI,MAAM,CAEzB;AACH,IACE,IAAW,KAAK,CAAC,CAAC,EAAE,MAAM,EAMzB;AACH,IACS,OAAO,SAAK;AACrB,IAAS,UAAU,EAAE,MAAM,CAAC;AAC5B,IAAS,QAAQ,EAAE,iBAAiB,CAAC;AACrC,IACE,SAAS,CAAC,MAAM,EAAE,MAAM,CAAC;AAC3B,gBAC6B,QAAQ,EAAE,iBAAiB;AAAG,IAIlD,QAAQ,IAAI,IAAI;AAAE,IAIlB,WAAW,IAAI,IAAI;AAAE,IAIrB,qBAAqB,IAAI,IAAI;;;AAAE,CAevC;AACD","sourcesContent":["import { Component, Host, Input, OnDestroy, OnInit } from '@angular/core';\n\nimport { ProgressDirective } from './progress.directive';\n\n@Component({\n  selector: 'mdb-bar',\n  templateUrl: './bar.component.html',\n})\nexport class BarComponent implements OnInit, OnDestroy {\n  public max: number;\n\n  /** provide one of the four supported contextual classes: `success`, `info`, `warning`, `danger` */\n  @Input() public type: string;\n  /** current value of progress bar */\n  @Input()\n  public get value(): number {\n    return this._value;\n  }\n\n  public set value(v: number) {\n    if (!v && v !== 0) {\n      return;\n    }\n    this._value = v;\n    this.recalculatePercentage();\n  }\n\n  public percent = 0;\n  public transition: string;\n  public progress: ProgressDirective;\n\n  protected _value: number;\n\n  public constructor(@Host() progress: ProgressDirective) {\n    this.progress = progress;\n  }\n\n  public ngOnInit(): void {\n    this.progress.addBar(this);\n  }\n\n  public ngOnDestroy(): void {\n    this.progress.removeBar(this);\n  }\n\n  public recalculatePercentage(): void {\n    this.percent = +((100 * this.value) / this.progress.max).toFixed(2);\n\n    const totalPercentage = this.progress.bars.reduce(function(\n      total: number,\n      bar: BarComponent\n    ): number {\n      return total + bar.percent;\n    },\n    0);\n\n    if (totalPercentage > 100) {\n      this.percent -= totalPercentage - 100;\n    }\n  }\n}\n"]}