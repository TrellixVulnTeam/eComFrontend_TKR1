{"version":3,"file":"input.directive.d.ts","sources":["../../../../../projects/ng-uikit-pro-standard/src/lib/free/inputs/input.directive.ts"],"names":[],"mappings":"AACA,OAAO,EAEL,UAAU,EACV,SAAS,EAET,aAAa,EAIb,gBAAgB,EACjB,MAAM,eAAe,CAAC;;AAGvB,qBAIa,QAAS,YAAW,gBAAgB,EAAE,aAAa;AAChE,IAWI,OAAO,CAAC,EAAE;AAAE,IACZ,OAAO,CAAC,SAAS;AAAE,IAZd,OAAO,EAAE,UAAU,GAAG,GAAG,CAAQ;AAC1C,IAAS,MAAM,EAAE,OAAO,GAAG,GAAG,CAAQ;AACtC,IACW,aAAa,UAAQ;AAChC,IAAW,UAAU,UAAQ;AAC7B,IACE,SAAS,EAAE,GAAG,CAAS;AACzB,IAAE,SAAS,UAAS;AACpB,IAAE,OAAO,EAAE,GAAG,CAAQ;AACtB,gBAEY,EAAE,EAAE,UAAU,EACd,SAAS,EAAE,SAAS,EACP,UAAU,EAAE,MAAM;AACzC,IAIuB,OAAO;AAC3B,IAMmB,MAAM;AACzB,IAQqB,QAAQ;AAC7B,IAKkC,SAAS,CAAC,KAAK,EAAE,GAAG;AACtD,IA0BkB,KAAK;AACvB,IAMoB,OAAO;AAC3B,IAMmB,MAAM;AACzB,IAOH,eAAe;AACZ,IAiBH,kBAAkB;AACf,IAIH,MAAM;AACH,IAaH,aAAa;AACV,IAKI,aAAa,IAAI,IAAI;AAAE,IAqB9B,OAAO,CAAC,UAAU;;;AAAE,CAmBrB;AACD","sourcesContent":["import { isPlatformBrowser } from '@angular/common';\nimport {\n  Directive,\n  ElementRef,\n  Renderer2,\n  Input,\n  AfterViewInit,\n  HostListener,\n  PLATFORM_ID,\n  Inject,\n  AfterViewChecked,\n} from '@angular/core';\nimport { DOWN_ARROW, UP_ARROW } from '../utils/keyboard-navigation';\n\n@Directive({\n  selector: '[mdbInput]',\n})\n// tslint:disable-next-line:directive-class-suffix\nexport class MdbInput implements AfterViewChecked, AfterViewInit {\n  public elLabel: ElementRef | any = null;\n  public elIcon: Element | any = null;\n\n  @Input() focusCheckbox = true;\n  @Input() focusRadio = true;\n\n  isBrowser: any = false;\n  isClicked = false;\n  element: any = null;\n\n  constructor(\n    private el: ElementRef,\n    private _renderer: Renderer2,\n    @Inject(PLATFORM_ID) platformId: string\n  ) {\n    this.isBrowser = isPlatformBrowser(platformId);\n  }\n\n  @HostListener('focus') onfocus() {\n    try {\n      this._renderer.addClass(this.elLabel, 'active');\n      this.isClicked = true;\n    } catch (error) {}\n  }\n\n  @HostListener('blur') onblur() {\n    try {\n      if (this.el.nativeElement.value === '') {\n        this._renderer.removeClass(this.elLabel, 'active');\n      }\n      this.isClicked = false;\n    } catch (error) {}\n  }\n\n  @HostListener('change') onchange() {\n    try {\n      this.checkValue();\n    } catch (error) {}\n  }\n\n  @HostListener('keydown', ['$event']) onkeydown(event: any) {\n    try {\n      if (event.target.type === 'number') {\n        if (event.shiftKey) {\n          switch (event.keyCode) {\n            case UP_ARROW:\n              event.target.value = +event.target.value + 10;\n              break;\n            case DOWN_ARROW:\n              event.target.value = +event.target.value - 10;\n              break;\n          }\n        }\n        if (event.altKey) {\n          switch (event.keyCode) {\n            case UP_ARROW:\n              event.target.value = +event.target.value + 0.1;\n              break;\n            case DOWN_ARROW:\n              event.target.value = +event.target.value - 0.1;\n              break;\n          }\n        }\n      }\n    } catch (error) {}\n    this.delayedResize();\n  }\n  @HostListener('cut') oncut() {\n    try {\n      setTimeout(() => {\n        this.delayedResize();\n      }, 0);\n    } catch (error) {}\n  }\n  @HostListener('paste') onpaste() {\n    try {\n      setTimeout(() => {\n        this.delayedResize();\n      }, 0);\n    } catch (error) {}\n  }\n  @HostListener('drop') ondrop() {\n    try {\n      setTimeout(() => {\n        this.delayedResize();\n      }, 0);\n    } catch (error) {}\n  }\n\n  ngAfterViewInit() {\n    if (this.isBrowser) {\n      try {\n        this.element = document.querySelector('.md-textarea-auto');\n        if (this.element) {\n          this.delayedResize();\n        }\n      } catch (error) {}\n    }\n    const type = this.el.nativeElement.type;\n    if (this.focusCheckbox && type === 'checkbox') {\n      this._renderer.addClass(this.el.nativeElement, 'onFocusSelect');\n    }\n    if (this.focusRadio && type === 'radio') {\n      this._renderer.addClass(this.el.nativeElement, 'onFocusSelect');\n    }\n  }\n\n  ngAfterViewChecked() {\n    this.initComponent();\n    this.checkValue();\n  }\n\n  resize() {\n    if (this.el.nativeElement.classList.contains('md-textarea-auto')) {\n      this._renderer.setStyle(this.el.nativeElement, 'height', 'auto');\n\n      if (this.el.nativeElement.scrollHeight) {\n        this._renderer.setStyle(\n          this.el.nativeElement,\n          'height',\n          this.el.nativeElement.scrollHeight + 'px'\n        );\n      }\n    }\n  }\n\n  delayedResize() {\n    setTimeout(() => {\n      this.resize();\n    }, 0);\n  }\n\n  public initComponent(): void {\n    let inputId;\n    let inputP;\n    if (this.isBrowser) {\n      try {\n        inputId = this.el.nativeElement.id;\n      } catch (err) {}\n\n      try {\n        inputP = this.el.nativeElement.parentNode;\n      } catch (err) {}\n\n      this.elLabel =\n        inputP.querySelector('label[for=\"' + inputId + '\"]') || inputP.querySelector('label');\n      if (this.elLabel && this.el.nativeElement.value !== '') {\n        this._renderer.addClass(this.elLabel, 'active');\n      }\n      this.elIcon = inputP.querySelector('i') || false;\n    }\n  }\n\n  private checkValue(): void {\n    let value = '';\n    if (this.elLabel != null) {\n      value = this.el.nativeElement.value || '';\n      if (value === '') {\n        this._renderer.removeClass(this.elLabel, 'active');\n        if (this.elIcon) {\n          this._renderer.removeClass(this.elIcon, 'active');\n        }\n      }\n      if (\n        (value === '' && this.isClicked) ||\n        (value === '' && this.el.nativeElement.placeholder) ||\n        (value === '' && this.el.nativeElement.attributes.placeholder)\n      ) {\n        this._renderer.addClass(this.elLabel, 'active');\n      }\n    }\n  }\n}\n"]}